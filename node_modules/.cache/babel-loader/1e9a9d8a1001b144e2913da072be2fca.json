{"ast":null,"code":"import API from \"../../API\";\nimport { addFavouritesAction, fetchFavouritesAction, deleteFavouritesAction } from \"./actions\";\nconst api = new API();\nconst FAVOURITES_KEY = \"FAVOURITES_KEY\";\nexport const fetchFromLocalStorage = () => {\n  return async dispatch => {\n    let favouritsJSON = localStorage.getItem(FAVOURITES_KEY);\n    let favourites = [];\n\n    if (favouritsJSON) {\n      favourites = JSON.parse(favouritsJSON);\n    }\n\n    dispatch(fetchFavouritesAction(favourites));\n  };\n};\nexport const addFavourite = place => {\n  return async (dispatch, getState) => {\n    let prevFavourites = getState().favourites.list;\n    const nextFavorites = [place, ...prevFavourites];\n    setToLocalStorage(nextFavorites);\n    dispatch(addFavouritesAction(nextFavorites));\n  };\n};\nexport const deleteFavourite = id => {\n  return async (dispatch, getState) => {\n    let prevFavourites = getState().favourites.list;\n    const nextFavourites = prevFavourites.filter(item => item.id !== id);\n    setToLocalStorage(nextFavourites);\n    dispatch(deleteFavouritesAction(nextFavourites));\n  };\n};\n\nconst setToLocalStorage = favourites => {\n  localStorage.setItem(FAVOURITES_KEY, JSON.stringify(favourites));\n};","map":{"version":3,"names":["API","addFavouritesAction","fetchFavouritesAction","deleteFavouritesAction","api","FAVOURITES_KEY","fetchFromLocalStorage","dispatch","favouritsJSON","localStorage","getItem","favourites","JSON","parse","addFavourite","place","getState","prevFavourites","list","nextFavorites","setToLocalStorage","deleteFavourite","id","nextFavourites","filter","item","setItem","stringify"],"sources":["/Users/techi.s./Desktop/techis-wd-forum-django-react/frontend/src/reducks/favourites/operations.js"],"sourcesContent":["import API from \"../../API\";\nimport {\n  addFavouritesAction,\n  fetchFavouritesAction,\n  deleteFavouritesAction,\n} from \"./actions\";\n\nconst api = new API();\nconst FAVOURITES_KEY = \"FAVOURITES_KEY\";\n\nexport const fetchFromLocalStorage = () => {\n  return async (dispatch) => {\n    let favouritsJSON = localStorage.getItem(FAVOURITES_KEY);\n    let favourites = [];\n    if (favouritsJSON) {\n      favourites = JSON.parse(favouritsJSON);\n    }\n    dispatch(fetchFavouritesAction(favourites));\n  };\n};\n\nexport const addFavourite = (place) => {\n  return async (dispatch, getState) => {\n    let prevFavourites = getState().favourites.list;\n    const nextFavorites = [place, ...prevFavourites];\n    setToLocalStorage(nextFavorites);\n    dispatch(addFavouritesAction(nextFavorites));\n  };\n};\n\nexport const deleteFavourite = (id) => {\n  return async (dispatch, getState) => {\n    let prevFavourites = getState().favourites.list;\n    const nextFavourites = prevFavourites.filter((item) => item.id !== id);\n    setToLocalStorage(nextFavourites);\n    dispatch(deleteFavouritesAction(nextFavourites));\n  };\n};\n\nconst setToLocalStorage = (favourites) => {\n  localStorage.setItem(FAVOURITES_KEY, JSON.stringify(favourites));\n};\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,WAAhB;AACA,SACEC,mBADF,EAEEC,qBAFF,EAGEC,sBAHF,QAIO,WAJP;AAMA,MAAMC,GAAG,GAAG,IAAIJ,GAAJ,EAAZ;AACA,MAAMK,cAAc,GAAG,gBAAvB;AAEA,OAAO,MAAMC,qBAAqB,GAAG,MAAM;EACzC,OAAO,MAAOC,QAAP,IAAoB;IACzB,IAAIC,aAAa,GAAGC,YAAY,CAACC,OAAb,CAAqBL,cAArB,CAApB;IACA,IAAIM,UAAU,GAAG,EAAjB;;IACA,IAAIH,aAAJ,EAAmB;MACjBG,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWL,aAAX,CAAb;IACD;;IACDD,QAAQ,CAACL,qBAAqB,CAACS,UAAD,CAAtB,CAAR;EACD,CAPD;AAQD,CATM;AAWP,OAAO,MAAMG,YAAY,GAAIC,KAAD,IAAW;EACrC,OAAO,OAAOR,QAAP,EAAiBS,QAAjB,KAA8B;IACnC,IAAIC,cAAc,GAAGD,QAAQ,GAAGL,UAAX,CAAsBO,IAA3C;IACA,MAAMC,aAAa,GAAG,CAACJ,KAAD,EAAQ,GAAGE,cAAX,CAAtB;IACAG,iBAAiB,CAACD,aAAD,CAAjB;IACAZ,QAAQ,CAACN,mBAAmB,CAACkB,aAAD,CAApB,CAAR;EACD,CALD;AAMD,CAPM;AASP,OAAO,MAAME,eAAe,GAAIC,EAAD,IAAQ;EACrC,OAAO,OAAOf,QAAP,EAAiBS,QAAjB,KAA8B;IACnC,IAAIC,cAAc,GAAGD,QAAQ,GAAGL,UAAX,CAAsBO,IAA3C;IACA,MAAMK,cAAc,GAAGN,cAAc,CAACO,MAAf,CAAuBC,IAAD,IAAUA,IAAI,CAACH,EAAL,KAAYA,EAA5C,CAAvB;IACAF,iBAAiB,CAACG,cAAD,CAAjB;IACAhB,QAAQ,CAACJ,sBAAsB,CAACoB,cAAD,CAAvB,CAAR;EACD,CALD;AAMD,CAPM;;AASP,MAAMH,iBAAiB,GAAIT,UAAD,IAAgB;EACxCF,YAAY,CAACiB,OAAb,CAAqBrB,cAArB,EAAqCO,IAAI,CAACe,SAAL,CAAehB,UAAf,CAArC;AACD,CAFD"},"metadata":{},"sourceType":"module"}