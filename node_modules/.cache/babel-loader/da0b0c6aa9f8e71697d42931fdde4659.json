{"ast":null,"code":"var _jsxFileName = \"/Users/techi.s./Desktop/techis-wd-forum-django-react/frontend/src/components/Common/Item.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addCart, increaseCart, decreaseCart } from \"../../reducks/carts/operations\";\nimport deleteicon from \"../../assets/img/delete.png\";\nimport { getCarts, getSubtotal } from \"../../reducks/carts/selectors\";\nimport { push } from \"connected-react-router\";\nimport like from \"../../assets/img/like.png\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { addFavourite } from \"../../reducks/favourites/operations\";\nimport { getFavourites } from \"../../reducks/favourites/selectors\";\nimport { deleteFavourite } from \"../../reducks/favourites/operations\"; // import {\n//   solid,\n//   regular,\n//   brands,\n// } from \"@fortawesome/fontawesome-svg-core/import.macro\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Item = _ref => {\n  _s();\n\n  let {\n    item\n  } = _ref;\n  const selector = useSelector(state => state);\n  const dispatch = useDispatch();\n  const carts = getCarts(selector);\n  const subtotal = getSubtotal(selector);\n  const [particularCart, setParticularCart] = useState(null);\n  const key = localStorage.getItem(\"LOGIN_USER_KEY\");\n  const [showLikeButton, setShowLikeButton] = useState(true);\n  const favourites = getFavourites(selector); // const [showLikeButton, setShowLikeButton] = useState(true);\n  // const favourites = getFavourites(selector);\n  // const clickFavourite = (item) => {\n  //   dispatch(addFavourite(item));\n  // };\n\n  useEffect(() => {\n    if (carts != undefined && carts.length > 0) {\n      console.log(\"carts\");\n      console.log(carts);\n      let matchedCarts = carts.filter(cart => cart.item.id == item.id);\n      console.log(\"matchedCarts\");\n      console.log(matchedCarts);\n\n      if (matchedCarts.length > 0) {\n        setParticularCart(matchedCarts[0]);\n      } else {\n        setParticularCart(null);\n      }\n    }\n  }, [subtotal]);\n  useEffect(() => {\n    let favoriteitem = favourites.filter(favourite => favourite.id == item.id);\n\n    if (favoriteitem.length > 0) {\n      setShowLikeButton(false);\n    } else {}\n  }, [favourites]);\n\n  const clickFavourite = item => {\n    dispatch(addFavourite(item));\n  };\n\n  const clickAddCart = () => {\n    if (key) {\n      dispatch(addCart(item));\n    } else {\n      dispatch(push(\"/signin\"));\n    }\n  };\n\n  const clickPlusCart = () => {\n    dispatch(increaseCart(particularCart.id));\n  };\n\n  const clickMinusCart = () => {\n    dispatch(decreaseCart(particularCart.id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"page-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"post-slider\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"post-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"post\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.image,\n              class: \"slider-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), showLikeButton && /*#__PURE__*/_jsxDEV(\"img\", {\n              class: \"like\",\n              src: like,\n              onClick: () => {\n                clickFavourite(item);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              class: \"delete\",\n              src: deleteicon,\n              onClick: () => {\n                dispatch(deleteFavourite(item.id));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"post-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [item.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 19\n                }, this), item.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this), particularCart && particularCart.quantity > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"number\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"minus\",\n                  onClick: clickMinusCart,\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"count\",\n                  children: particularCart.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"plus\",\n                  onClick: clickPlusCart,\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: clickAddCart,\n                children: \"Add To Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Item, \"XuzX3bik5TgIWTIEZcR0XqEkDLg=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Item;\nexport default Item;\n\nvar _c;\n\n$RefreshReg$(_c, \"Item\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","addCart","increaseCart","decreaseCart","deleteicon","getCarts","getSubtotal","push","like","FontAwesomeIcon","addFavourite","getFavourites","deleteFavourite","Item","item","selector","state","dispatch","carts","subtotal","particularCart","setParticularCart","key","localStorage","getItem","showLikeButton","setShowLikeButton","favourites","undefined","length","console","log","matchedCarts","filter","cart","id","favoriteitem","favourite","clickFavourite","clickAddCart","clickPlusCart","clickMinusCart","image","name","price","quantity"],"sources":["/Users/techi.s./Desktop/techis-wd-forum-django-react/frontend/src/components/Common/Item.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  addCart,\n  increaseCart,\n  decreaseCart,\n} from \"../../reducks/carts/operations\";\nimport deleteicon from \"../../assets/img/delete.png\";\nimport { getCarts, getSubtotal } from \"../../reducks/carts/selectors\";\nimport { push } from \"connected-react-router\";\nimport like from \"../../assets/img/like.png\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { addFavourite } from \"../../reducks/favourites/operations\";\nimport { getFavourites } from \"../../reducks/favourites/selectors\";\nimport { deleteFavourite } from \"../../reducks/favourites/operations\";\n// import {\n//   solid,\n//   regular,\n//   brands,\n// } from \"@fortawesome/fontawesome-svg-core/import.macro\";\n\nconst Item = ({ item }) => {\n  const selector = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const carts = getCarts(selector);\n  const subtotal = getSubtotal(selector);\n  const [particularCart, setParticularCart] = useState(null);\n  const key = localStorage.getItem(\"LOGIN_USER_KEY\");\n  const [showLikeButton, setShowLikeButton] = useState(true);\n  const favourites = getFavourites(selector);\n\n  // const [showLikeButton, setShowLikeButton] = useState(true);\n  // const favourites = getFavourites(selector);\n\n  // const clickFavourite = (item) => {\n  //   dispatch(addFavourite(item));\n  // };\n\n  useEffect(() => {\n    if (carts != undefined && carts.length > 0) {\n      console.log(\"carts\");\n      console.log(carts);\n      let matchedCarts = carts.filter((cart) => cart.item.id == item.id);\n      console.log(\"matchedCarts\");\n      console.log(matchedCarts);\n      if (matchedCarts.length > 0) {\n        setParticularCart(matchedCarts[0]);\n      } else {\n        setParticularCart(null);\n      }\n    }\n  }, [subtotal]);\n  useEffect(() => {\n    let favoriteitem = favourites.filter(\n      (favourite) => favourite.id == item.id\n    );\n    if (favoriteitem.length > 0) {\n      setShowLikeButton(false);\n    }\n    else {\n      \n    }\n  }, [favourites]);\n  const clickFavourite = (item) => {\n    dispatch(addFavourite(item));\n  };\n\n  const clickAddCart = () => {\n    if (key) {\n      dispatch(addCart(item));\n    } else {\n      dispatch(push(\"/signin\"));\n    }\n  };\n  const clickPlusCart = () => {\n    dispatch(increaseCart(particularCart.id));\n  };\n  const clickMinusCart = () => {\n    dispatch(decreaseCart(particularCart.id));\n  };\n  return (\n    <div>\n      <div class=\"page-wrapper\">\n        <div class=\"post-slider\">\n          {/* <FontAwesomeIcon icon=\"fa-solid fa-arrow-right-long\" />\n          <FontAwesomeIcon icon=\"fa-solid fa-arrow-left-long\" /> */}\n\n          <div class=\"post-wrapper\">\n            <div class=\"post\">\n              <img src={item.image} class=\"slider-image\" />\n              {showLikeButton && (\n                <img\n                  class=\"like\"\n                  src={like}\n                  onClick={() => {\n                    clickFavourite(item);\n                  }}\n                />\n              )}\n              <img\n                class=\"delete\"\n                src={deleteicon}\n                onClick={() => {\n                  dispatch(deleteFavourite(item.id));\n                }}\n              />\n              <div class=\"post-info\">\n                <h2>\n                  {item.name}\n                  <br />\n                  {item.price}\n                </h2>\n\n                {particularCart && particularCart.quantity > 0 ? (\n                  <div class=\"number\">\n                    <span class=\"minus\" onClick={clickMinusCart}>\n                      -\n                    </span>\n                    <span class=\"count\">{particularCart.quantity}</span>\n                    <span class=\"plus\" onClick={clickPlusCart}>\n                      +\n                    </span>\n                  </div>\n                ) : (\n                  <button onClick={clickAddCart}>Add To Cart</button>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Item;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}